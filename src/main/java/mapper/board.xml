<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="board.list">
  <select id="listAll" resultType="boardlist">
	select b.*
	from board b, gathering g
	where b.board_gno=g.gath_no
		and g.gath_no=#{gath_no}
	order by board_date desc
  </select>
  
  <select id="categorySearch" resultType="boardlist" parameterType="Map">
	select b.*
	from board b, gathering g
	where b.board_gno=g.gath_no
		and g.gath_no=#{gath_no}
		and b.board_category = #{board_category}
	order by board_date desc
  </select>
  <insert id="insert" parameterType="boardlist">
  	insert into board values(board_seq.nextval,#{board_title},#{board_content},#{board_gno},#{board_mno}, sysdate,'0','0',#{board_category})
  </insert>
  
  <select id="detailView" parameterType="String" resultType="boardList">
  	select *
  	from board
  	where board_no = #{board_no}
  </select>
</mapper>